<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <%- include('./partials/head') %>
        <link rel="stylesheet" href="/css/order.css">
</head>

<body>
    <%- include('./partials/navbar') %>
        <div class="delivery-address-section">
            <h2>DELIVERY ADDRESS</h2>

            <% addressData.forEach(key=>{ %>
                <div class="address-card selected">
                    <form action="/cart/order" method="post" style="display: flex;">
                        <div>
                        <input type="radio" name="address" id="address1" checked>
                        <label for="address1">
                            <div class="address-details">
                                <span class="name">
                                    <%= key.name %>
                                </span>
                                <span class="badge">HOME</span>
                                <span class="phone">
                                    <%= key.phone %>
                                </span>
                                <p class="address">
                                    <%= key.address %>- <strong>
                                            <%= key.pinCode %>
                                        </strong>
                                </p>
                            </div>
                        </label>
                    </div>
                        <button class="deliver-btn">DELIVER HERE</button>
                    </form>
                </div>
                <% }) %>

                    <div class="add-new-address" id="show-form">
                        <a href="#">+ Add a new address</a>
                    </div>

                    <form id="new-address-form" hidden="true" method="post" action="/cart/save-address">
                        <h3>Add New Address</h3>
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input type="text" id="name" name="name" required>
                        </div>
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="text" id="phone" name="phone" required>
                        </div>
                        <div class="form-group">
                            <label for="address">Address</label>
                            <input id="address" name="address" required>
                        </div>
                        <div class="form-group">
                            <label for="zipcode">Zip Code</label>
                            <input type="text" id="zipcode" name="zipcode" required>
                        </div>
                        <div class="form-group">
                            <button type="submit" class="save-btn">Save Address</button>
                            <button type="button" class="cancel-btn" id="hide-address-form">Cancel</button>
                        </div>
                    </form>
        </div>
</body>
<script>
    const showFormBtn = document.getElementById('show-form');
    const newform = document.getElementById('new-address-form');
    const hideBTN = document.getElementById("hide-address-form");

    showFormBtn.addEventListener('click', () => {
        newform.hidden = false;
    });

    hideBTN.addEventListener('click', () => {
        newform.hidden = true;
    })    
</script>

</html>